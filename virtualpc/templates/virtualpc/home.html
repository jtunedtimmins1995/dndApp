{% extends "virtualpc/base.html" %}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>

<head>
    {% block head %} {% load static %}
    <title>Home</title>
    {% endblock head %}
</head>

<body>
    {% block body %} {% if fade %}
    <div id='startBlack' class='startBlack'>

    </div>
    <div id='startLogo' class='startLogo'>

    </div>
    {%endif%}
    <div class='parent' onclick="location.href='{% url 'notableCaptives' captiveid=1%}';">
        <div id='folder' class='folder'>

        </div>
        {% if flag %}
        <div class='AlienText'>
            <p>⋏⍜⏁⏃⏚⌰⟒ ☊⏃⌿⏁⟟⎐⟒⌇</p>
        </div>
        <div class='EnglishText'>
            <p>Notable Captives</p>
        </div>
        {% else %}
        <div class='EnglishText show'>
            <p>Notable Captives</p>
        </div>
        {% endif %}
    </div>
    <div class='parent'>
        <div id='folder' class='folder'>

    </div>
    {% if flag %}
    <div class='AlienText'>
        <p>⌇⊑⟟⌿ ⟟⋏⎎⍜⍀⋔⏃⏁⟟⍜⋏</p>
    </div>
    <div class='EnglishText'>
        <p>Ship Information</p>
    </div>
    {% else %}
    <div class='EnglishText show'>
        <p>Ship Information</p>
    </div>
    {% endif %}
    </div>
    {% if emailBool %}
    <div id='emailText' class='parent'>
        <div class='emailText' onclick='move(this)'>

        </div>
    </div>
    <div class='parent floatr' style='margin-right:150px; margin-bottom:700px; bottom:125px'>
        <div id='email' class='email' onclick='move(this)'>

        </div>
        <div class='EnglishText show'>
            <p>re: compariso...</p>
        </div>
    </div>
    {% endif %}
    <div class='call'>
        <div class='floatl shake' style='width:70%; text-align: center;margin-top: 10px;'>
            <b class=''>Incoming</b><br><b class=''>Call</b>
        </div>
        <div class='floatl' style='width:30%; text-align: center; '>
            <div class='hover'  style='width:100%; height:40px; color: green; padding-top: 6px;' onclick="respond('yes')">
                <svg width="60%" height="60%" viewBox="0 0 16 16" class="bi bi-telephone" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/>
                  </svg>
            </div>
            <div class='hover' style='width:100%; height:40px; color: red; padding-top: 6px;' onclick="respond('no')">
                <svg width="60%" height="60%"viewBox="0 0 16 16" class="bi bi-telephone" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/>
                  </svg>
            </div>
        </div>
        

    </div>


    {% endblock body %}
</body>
{% block below %}


<style>

</style>
<script>

    setTimeout(function () {
        $('#startLogo').fadeTo(1000, 1)
    }, 1000);
    setTimeout(function () {
        $('#startBlack').fadeTo(1000, 0)
    }, 2500);
    setTimeout(function () {
        $('#startLogo').fadeTo(1000, 0)
    }, 3500);
    setTimeout(function () {
        $('#startLogo').remove()
        $('#startBlack').remove()
    }, 4500);


    function cssFadeOut() {
        $('.AlienText').each(function (i, obj) {
            $(this).fadeTo(1000, 0)
        });
        setTimeout(function () {
            $('.EnglishText').each(function (i, obj) {
                $(this).fadeTo(1000, 1)
            });
        }, 1000);

    }
    $("#screen").click(function () { cssFadeOut(); });

    function move(item) {

        $('#email').css({ left: -500, position:'absolute' });
        setTimeout(function () {
            $('.emailText').css({ opacity:'1' });
            $('#email').css({ left: 0, position:'absolute' });
        }, 2000);


    }

    function checkStage(result){
        if (result.stage=='1'){
            clearInterval(interval)
            $('.call').css('right', '5px')
        }
    }
    function checkCall() {
        $.ajax({

            url: "/incomingCall", success: function (result) {
                console.log(result)
                checkStage(result)

            }
        })


    }
    checkCall()
    const interval = setInterval(function(){
        checkCall()
    }, 500);

function respond(flag){
    console.log(flag)
    $('.call').css('right', '-200px')

}
</script>
{% endblock below %}

</html>